---
title: 双向数据绑定
excerpt: ''
date: 2023-04-07 21:57:40
categories: [面试题]
tags: [Vue]
---

## 什么是双向数据绑定

简单来说就是数据层和视图层之间实现相互绑定
也就是说视图发生变化数据会发生变化，同理数据发生变化视图也会发生相应的改变

## 双向数据绑定的原理（MVVM）

- M 数据层
- V 视图层
- VM 业务处理层（核心层）
  - 监听器 Obsever 对所有数据的属性进行监听
  - 解析器 Compiler 对每个元素节点进行解析

## 如何实现双向绑定

- 初始化 对 data 执行响应处理 Obsever
- 同时对模版执行编译从 data 中获取动态数据，并初始化视图 Compiler
- 同时定义一个更新函数和 Watcher 将来对象数据发生变化时 Watcher 会调用更新函数
- 由于 data 的某个属性 key 在视图中可能出现多次，所以每个 key 都需要有一个 Dep 来管理多个 Watcher
- 将来 data 中数据一旦发生变化，会首先找到对应的 Dep 通知所有的 Watcher 执行更新函数

![双向数据绑定原理](/images/什么是双向数据绑定.png)
